<!-- Time for a little CSS! -->
<!DOCTYPE html>
<style type='text/css'>

    html {
        background: rgba(0, 0, 0, 0);
    }


    #content-box {
        background: rgba(255, 255, 255, 1);
        border: 5px solid rgba(0, 0, 0, 1);
        border-radius: 0px 0px 0px 0px;
        padding: 30px;
        width: 300px;
        color: black;
        left: 0px;
        position: fixed;
        max-height: 100%;
        top: 0px;
        cursor: alias;
    }

    #textarea {
        left: 0px;
        width: 100%;
        position: relative;
    }

    #resize-bar {
        top: -35px;
        right: -35px;
        width: 5px;
        height: 574px;
        background: rgba(0, 0, 0,1);
        position: absolute;
    }

    #parts-list-container {
        background: rgba(255, 255, 255, 1);
        border: 5px solid rgba(0, 0, 0, 1);
        border-radius: 0px 0px 0px 0px;
        width: 300px;
        padding: 0px,0px,0px,0px;
        color: black;
        margin-left: auto;
        right: 0px;
        max-height: 100%;
        position: fixed;
        top: 0px;
    }

    #resize-bar-parts-list {
        top: -5px;
        left: -6px;
        width: 6px;
        height: 40px;
        background: rgba(0, 0, 0,1);
        position: absolute;
        cursor: e-resize;
    }

    #openFile {
        left: 0px;
        bottom: 0px;
        zoom: 1.5;
        position: fixed;
    }

    #controls {
        position: fixed;
        text-align: center;
        bottom: 0px;
        zoom: 7;
        text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
    }

    #closeSidebar {
		width:20px;
		height: 20px;
        left: 300px;
        top:-30px;
        position: absolute;
    }

    #openPartsList {
        position: absolute;
        margin-left: auto;
        right: 0px;
        top: 0px;
    }

    .part {
        background-color: red;
        font-size: 20px;
        text-align: center;
        border: 0px solid rgba(0, 0, 0, 1);
        margin-bottom:2px;
    }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="bootstrap.css">
<html>
<body>


	<!-- The rounded box containing the welcome info. Gets its style from the CSS above. -->
	<div>
		<button onclick="openSidebar()" style="height: 20px; width: 20px; position: absolute; left: 0px; top:0px;"><b>></b></button>
	</div>

    <div id='content-box' class='sidebar' style="display: block">
        <div id="resize-bar" onmouseover="changeToResizeCursor()" onmouseout="changeToNormalCursor()" onmousedown="dragContentBoxResizeBar = true"></div>
        <!--<div id="content-box-padding"></div>-->
        <button onclick="closeSidebar()" id="closeSidebar"><b>X</b></button>
        <div id='textarea'>
            <textarea name="message" placeholder="" style="width:100%; height: 500px;"></textarea>
        </div>
    </div>


	<div id="openPartsList">
		<button onclick="openPartsList()" style=" height: 20px; width: 20px;"><b>&lt;</b></button>
	</div>

	<div id='parts-list-container'>
		<div id="resize-bar-parts-list" onmouseover="changeToResizeCursor()" onmouseout="changeToNormalCursor()" onmousedown="dragPartsListResizeBar = true"></div>
		<button onclick="closePartsList()" style=" width: 20px; height: 20px; left: 0px; position: relative;"><b>X</b></button>
        <div id="parts-list">
        </div>
	</div>

	<div id='controls'>
		<i class="fa" id="stepBack">&#xf048;</i>&nbsp;
		<i class="fa" id="repeat">&#xf0e2;</i>&nbsp;
		<i class="fa" id="playPause">&#xf04b;</i>&nbsp;
		<i class="fa" id="stepForward">&#xf051;</i>
	</div>

	<button id="openFile"><i class="fa">&#xf07c;</i></button>

	<script>
		function log(message) {
			console.log(message);
		}
	</script>



	<script>
		var contentBox = document.getElementById('content-box');
        var partsList = document.getElementById('parts-list-container');
        var resizeBar = document.getElementById('resize-bar');
        var textArea = document.getElementById('textarea');
        var closeSideBar = document.getElementById('closeSidebar');
        var dragContentBoxResizeBar = false

        var partsList = document.getElementById('parts-list-container');
		var partsListResizeBar = document.getElementById('resize-bar-parts-list');
        var dragPartsListResizeBar = false;
        document.addEventListener('mouseup', function (e) {
            // Turn off dragging flag when user mouse is up
            dragPartsListResizeBar = false;
            dragContentBoxResizeBar = false;
        });


        document.addEventListener('mousemove', function (e) {
            if (dragContentBoxResizeBar) {
                if ((e.clientX - 65) > 20) {
                    contentBox.style.width = e.clientX - 65;
                }
                //right: 0px; does not work in powerUI for some reason
                closeSideBar.style.left = contentBox.style.width;
            }
            else if (dragPartsListResizeBar) {
                if ((document.body.clientWidth - e.clientX + 5) > 30) { 
                    partsList.style.width = document.body.clientWidth - e.clientX + 5
                }
            }
        });


		function openSidebar() {
			contentBox.style.display = 'block';
			setContentBoxExtrasHeight();
		}
		function closeSidebar() {
            contentBox.style.display = 'none';
		}
		function openPartsList() {
            partsList.style.display = 'block';
            setPartsListExtrasHeight();
		}
		function closePartsList() {
			partsList.style.display = 'none';
		}

        var agv = importNamespace('AGV');
		function changeToResizeCursor() {
			agv.ChangeCursor.changeToResizeCursor();
		}
		function changeToNormalCursor() {
			agv.ChangeCursor.changeToNormalCursor();
        }

        function setContentBoxExtrasHeight(element) {
            resizeBar.style.height = contentBox.offsetHeight;
		}

        function setPartsListExtrasHeight(element) {
            partsListResizeBar.style.height = partsList.offsetHeight;
        }


        function showBorder(element) {
            element.style.border = "2px solid rgba(0, 0, 0, 1)"
        }

        function hideBorder(element){
            element.style.border = "0px solid rgba(0, 0, 0, 1)"
        }
	</script>
</body>
	</html>
